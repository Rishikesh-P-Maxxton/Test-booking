<div class="spacer"></div>
<div class="container">
  <div class="month-header">
    <div class="month-name">
      {{ getMonthName(selectedMonth) }} - {{ getMonthName(nextMonths) }} {{ year }}
    </div>
    <div class="month-controls">
      <button (click)="previousMonthSet()" class="btn left">
        <i class="fa fa-chevron-left"></i>
      </button>
      <button (click)="nextMonthSet()" class="btn right">
        <i class="fa fa-chevron-right"></i>
      </button>
    </div>
  </div>

  <div class="chart-container">
    <!-- Chart Grid: Sticky room names, scrollable months -->
    <div class="chart" [style.grid-template-columns]="'150px repeat(' + (twoMonthDays.length + 1) + ', 1fr)'">
      <!-- Room Column Header -->
      <div class="day-header">Rooms</div>

      <div *ngFor="let day of twoMonthDays; let idx = index" 
      [ngClass]="{ 'day-header': true, 'weekend': isWeekend(day, idx >= firstMonthDays) }">
   {{ day }}
   <br>
   <span *ngIf="idx < firstMonthDays">{{ getDayName(day, false) }} - {{ getMonthName(selectedMonth) }}</span>
   <span *ngIf="idx >= firstMonthDays">{{ getDayName(day, true) }} - {{ getMonthName(nextMonths) }}</span>
 </div>
 

      <!-- Room Rows -->
      <ng-container *ngFor="let room of rooms">
        <!-- Sticky Room Name -->
        <div class="room-name sticky">
          {{ room.roomId }}
        </div>

        <!-- Render Cells for Two Months -->
        <div *ngFor="let day of twoMonthDays; let idx = index"
             [ngClass]="getCellClass(room.roomId, day)"
             (mousedown)="onMouseDown(room.roomId, day, $event)"
             (mouseover)="onMouseOver(room.roomId, day, $event)"
             (mouseup)="onMouseUp($event)"
             class="cell"
             [ngStyle]="{ 'pointer-events': isCellClickable(room.roomId, day) ? 'auto' : 'none' }">
        </div>
      </ng-container>
    </div>
  </div>
</div>



    <!-- Legend Container -->
<div class="container">
  <div class="row legend">
    <!-- Legend Item: Arrival Day -->
    <div class="col-md-6 col-lg-4">
      <div class="legend-item">
        <div class="legend-color arrival-day"></div>
        <span class="legend-text">Arrival Day</span>
      </div>
    </div>
    <!-- Legend Item: Checked In -->
    <div class="col-md-6 col-lg-4">
      <div class="legend-item">
        <div class="legend-color checkedin"></div>
        <span class="legend-text">Checked In</span>
      </div>
    </div>
    <!-- Legend Item: Checked Out -->
    <div class="col-md-6 col-lg-4">
      <div class="legend-item">
        <div class="legend-color checkedout"></div>
        <span class="legend-text">Checked Out</span>
      </div>
    </div>
    <!-- Legend Item: Reserved -->
    <div class="col-md-6 col-lg-4">
      <div class="legend-item">
        <div class="legend-color reserved"></div>
        <span class="legend-text">Confirm Reserved</span>
      </div>
    </div>
    
    <!-- Legend Item: Selected -->
    <div class="col-md-6 col-lg-4">
      <div class="legend-item">
        <div class="legend-color selected"></div>
        <span class="legend-text">Available</span>
      </div>
    </div>
  </div>
</div>

  <!-- Add a reference to the modal component -->
<app-modal #modal></app-modal>

<!-- (click)="onCellClick(room.roomId, day)" -->
    

   

      
